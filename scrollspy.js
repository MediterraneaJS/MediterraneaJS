var ScrollSpy=function(){function t(){document.addEventListener?(document.addEventListener("touchmove",n,!1),document.addEventListener("scroll",n,!1)):window.attachEvent&&window.attachEvent("onscroll",n)}function e(t){var e={};e.domElement=t,e.isInViewPort=!0,d[t.id]=e}function n(){var t=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;for(var e in d){var n=d[e],r=i(n.domElement),a=t;n.isInViewPort===!1&&(a-=n.domElement.clientHeight),a>r?(o(n.domElement),n.isInViewPort=!1):n.isInViewPort===!1&&(c(n.domElement),n.isInViewPort=!0)}}function o(t){r("ScrollSpyOutOfSight",t)}function c(t){r("ScrollSpyBackInSight",t)}function r(t,e){var n;document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(t,!0,!0),n.data=e,document.dispatchEvent(n)):document.createEventObject&&(n=document.createEventObject(),n.data=e,n.expando=t,document.fireEvent("onpropertychange",n))}function i(t){for(var e=0;null!==t;)e+=t.offsetTop,t=t.offsetParent;return e}var d={};return{init:t,spyOn:e}};